import * as React from 'react';
import './Modal.scss';

/**
 * A very simple modal
 */
export const Modal = (props) => {
	const closeOnEscape = (e) => {
		if ((e.keyCode || e.charCode) === 27) {
			props.onClose();
		}
	};

	React.useEffect(() => {
		document.body.addEventListener('keydown', closeOnEscape);

		return () => {
			document.body.removeEventListener('keydown', closeOnEscape);
		}
	});

	if (!props.show) {
		return null;
	};

	return (
		<div className='modal' onClick={props.onClose}>
			<div className='modal-content' onClick={(e) => e.stopPropagation()}>
				<div className='inner'>
					<span onClick={props.onClose} className='close'>&times;</span>
					{props.children}
				</div>
			</div>
		</div>
	)
};

export default Modal;
